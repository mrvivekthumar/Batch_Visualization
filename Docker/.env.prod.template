# Production Environment Configuration Template
# File: Docker/.env.prod.template
# Copy this file to .env.prod and fill in the actual values

# ==============================================
# DATABASE CONFIGURATION
# ==============================================
DB_NAME=performance_db
DB_USERNAME=postgres
DB_PASSWORD=                    # REQUIRED: Strong password for PostgreSQL
DB_SSL_ENABLED=true
DB_SSL_MODE=require
DB_MEMORY_LIMIT=2g
DB_CPU_LIMIT=2.0
DB_MEMORY_RESERVATION=1g
DB_CPU_RESERVATION=1.0

# ==============================================
# APPLICATION SECURITY
# ==============================================
ADMIN_USERNAME=admin
ADMIN_PASSWORD=                 # REQUIRED: Strong password (min 12 chars, mixed case, numbers, symbols)
VIEWER_USERNAME=viewer
VIEWER_PASSWORD=                # REQUIRED: Strong password (min 12 chars, mixed case, numbers, symbols)
REQUIRE_SSL=false              # Set to true if using HTTPS
JWT_ENABLED=false              # Enable JWT authentication if needed
JWT_SECRET=                    # REQUIRED if JWT_ENABLED=true (64+ character secret)
JWT_EXPIRATION=3600000         # 1 hour in milliseconds

# ==============================================
# RATE LIMITING (Production Settings)
# ==============================================
RATE_LIMIT_RPM=240             # Requests per minute (more restrictive)
RATE_LIMIT_BURST=30             # Burst capacity
RATE_LIMIT_PERF_OPS=100         # Performance operations per hour
RATE_LIMIT_IP_WHITELIST=       # Comma-separated list of whitelisted IPs

# ==============================================
# PERFORMANCE CONFIGURATION
# ==============================================
PERF_TEST_MAX_RECORDS=50000    # Maximum records per operation (production limit)
PERF_TEST_MAX_BATCH=5000       # Maximum batch size (production limit)
PERF_TEST_MEMORY_THRESHOLD=2048 # Memory threshold in MB

# ==============================================
# APPLICATION DEPLOYMENT
# ==============================================
APP_VERSION=2.0.0
APP_DOMAIN=performance-analyzer.yourdomain.com
APP_PORT=8080
APP_MEMORY_LIMIT=3g
APP_CPU_LIMIT=2.0
APP_MEMORY_RESERVATION=2g
APP_CPU_RESERVATION=1.0
DEPLOY_REGION=us-east-1
BUILD_TIME=

# ==============================================
# MONITORING & METRICS
# ==============================================
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=         # REQUIRED: Strong password for Grafana
GRAFANA_PORT=3000
GRAFANA_DB_NAME=grafana
GRAFANA_DB_USER=grafana
GRAFANA_DB_PASSWORD=            # REQUIRED: Password for Grafana database user
ALERTMANAGER_PORT=9093
ALERTMANAGER_DOMAIN=alertmanager.yourdomain.com
ENABLE_METRICS=true

# ==============================================
# REDIS CONFIGURATION
# ==============================================
REDIS_PASSWORD=                 # REQUIRED: Strong password for Redis
REDIS_PORT=6379

# ==============================================
# LOGGING CONFIGURATION
# ==============================================
LOG_LEVEL_APP=INFO
LOG_LEVEL_SECURITY=WARN
LOG_FILE_MAX_SIZE=100MB
LOG_FILE_MAX_HISTORY=30

# ==============================================
# SSL/TLS CONFIGURATION
# ==============================================
HTTP_PORT=80
HTTPS_PORT=443
SSL_CERTIFICATE_PATH=./certs/server.crt
SSL_PRIVATE_KEY_PATH=./certs/server.key
SSL_CA_CERTIFICATE_PATH=./certs/ca.crt

# ==============================================
# BACKUP CONFIGURATION
# ==============================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *       # Daily at 2 AM
BACKUP_RETENTION=30             # Days to keep backups
BACKUP_S3_BUCKET=               # S3 bucket for backups (if using S3)
BACKUP_S3_REGION=us-east-1

# ==============================================
# EXTERNAL INTEGRATIONS
# ==============================================
# Email notifications (for alerts)
SMTP_HOST=smtp.yourdomain.com
SMTP_PORT=587
SMTP_USERNAME=alerts@yourdomain.com
SMTP_PASSWORD=                  # REQUIRED if using email alerts
SMTP_FROM=alerts@yourdomain.com
SMTP_TO=admin@yourdomain.com

# Slack notifications (for alerts)
SLACK_WEBHOOK_URL=              # Slack webhook URL for notifications
SLACK_CHANNEL=#alerts

# ==============================================
# STORAGE CONFIGURATION
# ==============================================
DATA_DIR=./data                 # Directory for persistent data
LOG_DIR=./logs                  # Directory for log files
BACKUP_DIR=./backups           # Directory for database backups
NETWORK_SUBNET=172.20.0.0/16   # Docker network subnet

# ==============================================
# FEATURE FLAGS
# ==============================================
ENABLE_PERFORMANCE_TESTS=true
ENABLE_HEALTH_CHECKS=true
ENABLE_RATE_LIMITING=true
ENABLE_SECURITY=true

# ==============================================
# DEVELOPMENT/STAGING OVERRIDES
# ==============================================
# Uncomment these for staging environment
RATE_LIMIT_RPM=100
PERF_TEST_MAX_RECORDS=100000
LOG_LEVEL_APP=DEBUG

# ==============================================
# ENVIRONMENT VALIDATION
# ==============================================
# These are used by deployment scripts to validate configuration
ENVIRONMENT=production          # production, staging, development
DEPLOYMENT_TYPE=docker-compose  # docker-compose, kubernetes, bare-metal
MONITORING_ENABLED=true
SECURITY_ENABLED=true
BACKUP_ENABLED=true

# ==============================================
# CUSTOM APPLICATION SETTINGS
# ==============================================
# Add any custom environment variables below
# CUSTOM_FEATURE_FLAG=true
# CUSTOM_API_KEY=
# CUSTOM_SERVICE_URL=